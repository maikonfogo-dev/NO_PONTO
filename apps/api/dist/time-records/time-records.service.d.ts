import { PrismaService } from '../prisma/prisma.service';
import { ConfigService } from '@nestjs/config';
export declare class TimeRecordsService {
    private prisma;
    private configService;
    private s3Client;
    private bucketName;
    private readonly logger;
    constructor(prisma: PrismaService, configService: ConfigService);
    uploadPhoto(file: Express.Multer.File): Promise<string>;
    create(data: {
        employeeId: string;
        type: string;
        latitude: number;
        longitude: number;
        accuracy?: number;
        address?: string;
        photoUrl?: string;
        deviceId?: string;
        ip?: string;
    }): Promise<{
        id: string;
        timestamp: Date;
        type: string;
        latitude: number | null;
        longitude: number | null;
        accuracy: number | null;
        address: string | null;
        photoUrl: string | null;
        deviceId: string | null;
        ip: string | null;
        integrityHash: string | null;
        isGeofenceViolation: boolean;
        isManual: boolean;
        justification: string | null;
        originalTimestamp: Date | null;
        editedById: string | null;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        employeeId: string;
    }>;
    private timeToMinutes;
    private calculateExpectedMinutes;
    getDailySummary(employeeId: string): Promise<{
        date: string;
        punches: {
            id: string;
            timestamp: Date;
            type: string;
            latitude: number | null;
            longitude: number | null;
            accuracy: number | null;
            address: string | null;
            photoUrl: string | null;
            deviceId: string | null;
            ip: string | null;
            integrityHash: string | null;
            isGeofenceViolation: boolean;
            isManual: boolean;
            justification: string | null;
            originalTimestamp: Date | null;
            editedById: string | null;
            status: string;
            createdAt: Date;
            updatedAt: Date;
            employeeId: string;
        }[];
        lastPunch: {
            id: string;
            timestamp: Date;
            type: string;
            latitude: number | null;
            longitude: number | null;
            accuracy: number | null;
            address: string | null;
            photoUrl: string | null;
            deviceId: string | null;
            ip: string | null;
            integrityHash: string | null;
            isGeofenceViolation: boolean;
            isManual: boolean;
            justification: string | null;
            originalTimestamp: Date | null;
            editedById: string | null;
            status: string;
            createdAt: Date;
            updatedAt: Date;
            employeeId: string;
        };
        isWorking: boolean;
        workedHours: string;
        balance: string;
    }>;
    getMirror(employeeId: string, month: number, year: number): Promise<{
        employee: {
            schedule: {
                id: string;
                type: string;
                createdAt: Date;
                updatedAt: Date;
                name: string;
                startTime: string;
                endTime: string;
                lunchStart: string | null;
                lunchEnd: string | null;
                tolerance: number;
                allowOvertime: boolean;
            };
        } & {
            function: string | null;
            id: string;
            address: string | null;
            photoUrl: string | null;
            status: string;
            createdAt: Date;
            updatedAt: Date;
            name: string;
            cpf: string;
            matricula: string | null;
            userId: string | null;
            position: string;
            contractType: string;
            admissionDate: Date;
            contractId: string | null;
            workLocationId: string | null;
            scheduleId: string | null;
            supervisorId: string | null;
            rg: string | null;
            birthDate: Date | null;
            phone: string | null;
            email: string | null;
            department: string | null;
            requirePhoto: boolean;
            requireGPS: boolean;
            allowManualEntry: boolean;
        };
        period: {
            month: number;
            year: number;
        };
        days: {
            date: string;
            punches: {
                id: string;
                timestamp: Date;
                type: string;
                latitude: number | null;
                longitude: number | null;
                accuracy: number | null;
                address: string | null;
                photoUrl: string | null;
                deviceId: string | null;
                ip: string | null;
                integrityHash: string | null;
                isGeofenceViolation: boolean;
                isManual: boolean;
                justification: string | null;
                originalTimestamp: Date | null;
                editedById: string | null;
                status: string;
                createdAt: Date;
                updatedAt: Date;
                employeeId: string;
            }[];
            workedHours: string;
            expectedHours: string;
            balance: string;
            status: string;
        }[];
    }>;
    private calculateDistance;
    findAllByEmployee(employeeId: string, limit?: number): Promise<{
        id: string;
        timestamp: Date;
        type: string;
        latitude: number | null;
        longitude: number | null;
        accuracy: number | null;
        address: string | null;
        photoUrl: string | null;
        deviceId: string | null;
        ip: string | null;
        integrityHash: string | null;
        isGeofenceViolation: boolean;
        isManual: boolean;
        justification: string | null;
        originalTimestamp: Date | null;
        editedById: string | null;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        employeeId: string;
    }[]>;
}
