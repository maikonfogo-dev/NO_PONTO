{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usu%C3%A1rio/Documents/trae_projects/NO%20PONTO/apps/web/src/components/reports/LocationMap.tsx"],"sourcesContent":["'use client';\n\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport { format } from 'date-fns';\n\n// Fix Leaflet icon issue\ndelete (L.Icon.Default.prototype as any)._getIconUrl;\nL.Icon.Default.mergeOptions({\n    iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n    iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n});\n\ninterface Point {\n    id: string;\n    latitude: number;\n    longitude: number;\n    timestamp: string;\n    type: string;\n    address?: string;\n    employee: {\n        name: string;\n        position: string;\n    };\n}\n\ninterface LocationMapProps {\n    points: Point[];\n}\n\nexport default function LocationMap({ points }: LocationMapProps) {\n    const center = points.length > 0 \n        ? [points[0].latitude, points[0].longitude] as [number, number]\n        : [-23.55052, -46.633309] as [number, number]; // Default SP (or company HQ)\n\n    return (\n        <MapContainer center={center} zoom={13} style={{ height: '500px', width: '100%', borderRadius: '0.5rem' }}>\n            <TileLayer\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n            />\n            {points.map(point => (\n                <Marker key={point.id} position={[point.latitude, point.longitude]}>\n                    <Popup>\n                        <div className=\"text-sm\">\n                            <strong>{point.employee.name}</strong><br/>\n                            {point.employee.position}<br/>\n                            <hr className=\"my-1\"/>\n                            Tipo: <strong>{point.type}</strong><br/>\n                            Hora: {format(new Date(point.timestamp), 'HH:mm')}<br/>\n                            <span className=\"text-xs text-muted-foreground block mt-1 max-w-[200px] truncate\" title={point.address || ''}>\n                                {point.address || 'Sem endere√ßo'}\n                            </span>\n                        </div>\n                    </Popup>\n                </Marker>\n            ))}\n        </MapContainer>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AALA;;;;;;AAOA,yBAAyB;AACzB,OAAO,AAAC,0MAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAS,WAAW;AACpD,0MAAC,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;IACxB,eAAe;IACf,SAAS;IACT,WAAW;AACf;AAmBe,SAAS,YAAY,EAAE,MAAM,EAAoB;IAC5D,MAAM,SAAS,OAAO,MAAM,GAAG,IACzB;QAAC,MAAM,CAAC,EAAE,CAAC,QAAQ;QAAE,MAAM,CAAC,EAAE,CAAC,SAAS;KAAC,GACzC;QAAC,CAAC;QAAU,CAAC;KAAU,EAAsB,6BAA6B;IAEhF,qBACI,wOAAC,qNAAY;QAAC,QAAQ;QAAQ,MAAM;QAAI,OAAO;YAAE,QAAQ;YAAS,OAAO;YAAQ,cAAc;QAAS;;0BACpG,wOAAC,+MAAS;gBACN,KAAI;gBACJ,aAAY;;;;;;YAEf,OAAO,GAAG,CAAC,CAAA,sBACR,wOAAC,yMAAM;oBAAgB,UAAU;wBAAC,MAAM,QAAQ;wBAAE,MAAM,SAAS;qBAAC;8BAC9D,cAAA,wOAAC,uMAAK;kCACF,cAAA,wOAAC;4BAAI,WAAU;;8CACX,wOAAC;8CAAQ,MAAM,QAAQ,CAAC,IAAI;;;;;;8CAAU,wOAAC;;;;;gCACtC,MAAM,QAAQ,CAAC,QAAQ;8CAAC,wOAAC;;;;;8CAC1B,wOAAC;oCAAG,WAAU;;;;;;gCAAQ;8CAChB,wOAAC;8CAAQ,MAAM,IAAI;;;;;;8CAAU,wOAAC;;;;;gCAAI;gCACjC,IAAA,6MAAM,EAAC,IAAI,KAAK,MAAM,SAAS,GAAG;8CAAS,wOAAC;;;;;8CACnD,wOAAC;oCAAK,WAAU;oCAAkE,OAAO,MAAM,OAAO,IAAI;8CACrG,MAAM,OAAO,IAAI;;;;;;;;;;;;;;;;;mBATrB,MAAM,EAAE;;;;;;;;;;;AAiBrC;KA7BwB"}}]
}