(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,13437,e=>{"use strict";var t=e.i(80925),r=e.i(11765),a=e.i(46791),n=e.i(57592),l=e.i(42140),i=e.i(22866),s=e.i(80943),o=e.i(25371),d=e.i(20734),c=e.i(81855),u=e.i(18570),f=e.i(72344);e.i(39050);var m=Symbol("radix.slottable");function x(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===m}var p=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{var n,l;let i,s,o,d=(l=n=`Primitive.${a}`,(i=r.forwardRef((e,t)=>{let{children:a,...n}=e;if(r.isValidElement(a)){var l;let e,i,s=(l=a,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),o=function(e,t){let r={...t};for(let a in t){let n=e[a],l=t[a];/^on[A-Z]/.test(a)?n&&l?r[a]=(...e)=>{let t=l(...e);return n(...e),t}:n&&(r[a]=n):"style"===a?r[a]={...n,...l}:"className"===a&&(r[a]=[n,l].filter(Boolean).join(" "))}return{...e,...r}}(n,a.props);return a.type!==r.Fragment&&(o.ref=t?(0,u.composeRefs)(t,s):s),r.cloneElement(a,o)}return r.Children.count(a)>1?r.Children.only(null):null})).displayName=`${l}.SlotClone`,s=i,(o=r.forwardRef((e,a)=>{let{children:n,...l}=e,i=r.Children.toArray(n),o=i.find(x);if(o){let e=o.props.children,n=i.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(s,{...l,ref:a,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,t.jsx)(s,{...l,ref:a,children:n})})).displayName=`${n}.Slot`,o),c=r.forwardRef((e,r)=>{let{asChild:n,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?d:a,{...l,ref:r})});return c.displayName=`Primitive.${a}`,{...e,[a]:c}},{}),h=e.i(33887),j=e.i(7005),v=e.i(23330),b="rovingFocusGroup.onEntryFocus",y={bubbles:!1,cancelable:!0},g="RovingFocusGroup",[C,w,N]=(0,c.createCollection)(g),[S,T]=(0,d.createContextScope)(g,[N]),[E,R]=S(g),D=r.forwardRef((e,r)=>(0,t.jsx)(C.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(C.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(O,{...e,ref:r})})}));D.displayName=g;var O=r.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:n,orientation:l,loop:i=!1,dir:s,currentTabStopId:d,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:x=!1,...C}=e,N=r.useRef(null),S=(0,u.useComposedRefs)(a,N),T=(0,v.useDirection)(s),[R,D]=(0,j.useControllableState)({prop:d,defaultProp:c??null,onChange:f,caller:g}),[O,A]=r.useState(!1),I=(0,h.useCallbackRef)(m),H=w(n),P=r.useRef(!1),[F,M]=r.useState(0);return r.useEffect(()=>{let e=N.current;if(e)return e.addEventListener(b,I),()=>e.removeEventListener(b,I)},[I]),(0,t.jsx)(E,{scope:n,orientation:l,dir:T,loop:i,currentTabStopId:R,onItemFocus:r.useCallback(e=>D(e),[D]),onItemShiftTab:r.useCallback(()=>A(!0),[]),onFocusableItemAdd:r.useCallback(()=>M(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>M(e=>e-1),[]),children:(0,t.jsx)(p.div,{tabIndex:O||0===F?-1:0,"data-orientation":l,...C,ref:S,style:{outline:"none",...e.style},onMouseDown:(0,o.composeEventHandlers)(e.onMouseDown,()=>{P.current=!0}),onFocus:(0,o.composeEventHandlers)(e.onFocus,e=>{let t=!P.current;if(e.target===e.currentTarget&&t&&!O){let t=new CustomEvent(b,y);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=H().filter(e=>e.focusable);k([e.find(e=>e.active),e.find(e=>e.id===R),...e].filter(Boolean).map(e=>e.ref.current),x)}}P.current=!1}),onBlur:(0,o.composeEventHandlers)(e.onBlur,()=>A(!1))})})}),A="RovingFocusGroupItem",I=r.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:n,focusable:l=!0,active:i=!1,tabStopId:s,children:d,...c}=e,u=(0,f.useId)(),m=s||u,x=R(A,n),h=x.currentTabStopId===m,j=w(n),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:y}=x;return r.useEffect(()=>{if(l)return v(),()=>b()},[l,v,b]),(0,t.jsx)(C.ItemSlot,{scope:n,id:m,focusable:l,active:i,children:(0,t.jsx)(p.span,{tabIndex:h?0:-1,"data-orientation":x.orientation,...c,ref:a,onMouseDown:(0,o.composeEventHandlers)(e.onMouseDown,e=>{l?x.onItemFocus(m):e.preventDefault()}),onFocus:(0,o.composeEventHandlers)(e.onFocus,()=>x.onItemFocus(m)),onKeyDown:(0,o.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void x.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let n=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return H[n]}(e,x.orientation,x.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=j().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){var r,a;"prev"===t&&n.reverse();let l=n.indexOf(e.currentTarget);n=x.loop?(r=n,a=l+1,r.map((e,t)=>r[(a+t)%r.length])):n.slice(l+1)}setTimeout(()=>k(n))}}),children:"function"==typeof d?d({isCurrentTabStop:h,hasTabStop:null!=y}):d})})});I.displayName=A;var H={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}var P=e.i(56059),F=e=>{var t;let a,n,{present:l,children:i}=e,s=function(e){var t,a;let[n,l]=r.useState(),i=r.useRef(null),s=r.useRef(e),o=r.useRef("none"),[d,c]=(t=e?"mounted":"unmounted",a={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,t)=>a[e][t]??e,t));return r.useEffect(()=>{let e=M(i.current);o.current="mounted"===d?e:"none"},[d]),(0,P.useLayoutEffect)(()=>{let t=i.current,r=s.current;if(r!==e){let a=o.current,n=M(t);e?c("MOUNT"):"none"===n||t?.display==="none"?c("UNMOUNT"):r&&a!==n?c("ANIMATION_OUT"):c("UNMOUNT"),s.current=e}},[e,c]),(0,P.useLayoutEffect)(()=>{if(n){let e,t=n.ownerDocument.defaultView??window,r=r=>{let a=M(i.current).includes(CSS.escape(r.animationName));if(r.target===n&&a&&(c("ANIMATION_END"),!s.current)){let r=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=r)})}},a=e=>{e.target===n&&(o.current=M(i.current))};return n.addEventListener("animationstart",a),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",a),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}c("ANIMATION_END")},[n,c]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:r.useCallback(e=>{i.current=e?getComputedStyle(e):null,l(e)},[])}}(l),o="function"==typeof i?i({present:s.isPresent}):r.Children.only(i),d=(0,u.useComposedRefs)(s.ref,(t=o,(n=(a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?t.ref:(n=(a=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof i||s.isPresent?r.cloneElement(o,{ref:d}):null};function M(e){return e?.animationName||"none"}F.displayName="Presence";var L=Symbol("radix.slottable");function V(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===L}var B=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{var n,l;let i,s,o,d=(l=n=`Primitive.${a}`,(i=r.forwardRef((e,t)=>{let{children:a,...n}=e;if(r.isValidElement(a)){var l;let e,i,s=(l=a,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),o=function(e,t){let r={...t};for(let a in t){let n=e[a],l=t[a];/^on[A-Z]/.test(a)?n&&l?r[a]=(...e)=>{let t=l(...e);return n(...e),t}:n&&(r[a]=n):"style"===a?r[a]={...n,...l}:"className"===a&&(r[a]=[n,l].filter(Boolean).join(" "))}return{...e,...r}}(n,a.props);return a.type!==r.Fragment&&(o.ref=t?(0,u.composeRefs)(t,s):s),r.cloneElement(a,o)}return r.Children.count(a)>1?r.Children.only(null):null})).displayName=`${l}.SlotClone`,s=i,(o=r.forwardRef((e,a)=>{let{children:n,...l}=e,i=r.Children.toArray(n),o=i.find(V);if(o){let e=o.props.children,n=i.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(s,{...l,ref:a,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,t.jsx)(s,{...l,ref:a,children:n})})).displayName=`${n}.Slot`,o),c=r.forwardRef((e,r)=>{let{asChild:n,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?d:a,{...l,ref:r})});return c.displayName=`Primitive.${a}`,{...e,[a]:c}},{}),W="Tabs",[$,_]=(0,d.createContextScope)(W,[T]),K=T(),[U,G]=$(W),z=r.forwardRef((e,r)=>{let{__scopeTabs:a,value:n,onValueChange:l,defaultValue:i,orientation:s="horizontal",dir:o,activationMode:d="automatic",...c}=e,u=(0,v.useDirection)(o),[m,x]=(0,j.useControllableState)({prop:n,onChange:l,defaultProp:i??"",caller:W});return(0,t.jsx)(U,{scope:a,baseId:(0,f.useId)(),value:m,onValueChange:x,orientation:s,dir:u,activationMode:d,children:(0,t.jsx)(B.div,{dir:u,"data-orientation":s,...c,ref:r})})});z.displayName=W;var Y="TabsList",Z=r.forwardRef((e,r)=>{let{__scopeTabs:a,loop:n=!0,...l}=e,i=G(Y,a),s=K(a);return(0,t.jsx)(D,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:(0,t.jsx)(B.div,{role:"tablist","aria-orientation":i.orientation,...l,ref:r})})});Z.displayName=Y;var X="TabsTrigger",q=r.forwardRef((e,r)=>{let{__scopeTabs:a,value:n,disabled:l=!1,...i}=e,s=G(X,a),d=K(a),c=ee(s.baseId,n),u=et(s.baseId,n),f=n===s.value;return(0,t.jsx)(I,{asChild:!0,...d,focusable:!l,active:f,children:(0,t.jsx)(B.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:c,...i,ref:r,onMouseDown:(0,o.composeEventHandlers)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():s.onValueChange(n)}),onKeyDown:(0,o.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&s.onValueChange(n)}),onFocus:(0,o.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==s.activationMode;f||l||!e||s.onValueChange(n)})})})});q.displayName=X;var J="TabsContent",Q=r.forwardRef((e,a)=>{let{__scopeTabs:n,value:l,forceMount:i,children:s,...o}=e,d=G(J,n),c=ee(d.baseId,l),u=et(d.baseId,l),f=l===d.value,m=r.useRef(f);return r.useEffect(()=>{let e=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(F,{present:i||f,children:({present:r})=>(0,t.jsx)(B.div,{"data-state":f?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":c,hidden:!r,id:u,tabIndex:0,...o,ref:a,style:{...e.style,animationDuration:m.current?"0s":void 0},children:r&&s})})});function ee(e,t){return`${e}-trigger-${t}`}function et(e,t){return`${e}-content-${t}`}Q.displayName=J;var er=e.i(38294);let ea=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(Z,{ref:a,className:(0,er.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));ea.displayName=Z.displayName;let en=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(q,{ref:a,className:(0,er.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));en.displayName=q.displayName;let el=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(Q,{ref:a,className:(0,er.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));el.displayName=Q.displayName;var ei=e.i(62254),es=e.i(14049),eo=e.i(31525),ed=e.i(39676),ec=e.i(63911),eu=e.i(21137),ef=e.i(44419),em=e.i(17653),ex=e.i(81378),ep=e.i(86959),eh=e.i(76483),ej=e.i(17904),ev=e.i(35383),eb=e.i(85133),ey=e.i(70635),eg=e.i(81505),eC=e.i(72496),ew=e.i(12118),eN=e.i(27165),eS=e.i(42256),eT=e.i(55127),eE=e.i(80546),eR=e.i(6166),eD=e.i(44805),eO=e.i(18961),eA=e.i(52448),eI=e.i(4495),eH=e.i(8056),ek=e.i(40946),eP=e.i(34530),eF=e.i(92949),eM=e.i(13463),eL=e.i(83598),eV=e.i(35779);function eB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function eW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eB(Object(r),!0).forEach(function(t){var a,n,l;a=e,n=t,l=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[n]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e$(){return(e$=Object.assign.bind()).apply(null,arguments)}function e_(e){var t=(0,eA.useAppDispatch)();return(0,r.useEffect)(()=>(t((0,eO.addLine)(e)),()=>{t((0,eO.removeLine)(e))})),null}function eK(e){var{xAxisId:t,yAxisId:a,shape:n,className:l,ifOverflow:i}=e,s=(0,eH.useIsPanorama)(),o=(0,ek.useClipPathId)(),d=(0,eA.useAppSelector)(e=>(0,eI.selectXAxisSettings)(e,t)),c=(0,eA.useAppSelector)(e=>(0,eI.selectYAxisSettings)(e,a)),u=(0,eA.useAppSelector)(e=>(0,eI.selectAxisScale)(e,"xAxis",t,s)),f=(0,eA.useAppSelector)(e=>(0,eI.selectAxisScale)(e,"yAxis",a,s)),m=(0,eD.useViewBox)();if(!o||!m||null==d||null==c||null==u||null==f)return null;var x=((e,t,r,a,n,l)=>{var i,{x:s,y:o,segment:d,ifOverflow:c}=l,u=(0,eE.isNumOrStr)(s);return(0,eE.isNumOrStr)(o)?((e,t,r,a,n,l)=>{var{x:i,width:s}=l,o=n.y.apply(e,{position:r});if((0,eE.isNan)(o)||"discard"===t&&!n.y.isInRange(o))return null;var d=[{x:i+s,y:o},{x:i,y:o}];return"left"===a?d.reverse():d})(o,c,r,n,e,t):u?((e,t,r,a,n,l)=>{var{y:i,height:s}=l,o=n.x.apply(e,{position:r});if((0,eE.isNan)(o)||"discard"===t&&!n.x.isInRange(o))return null;var d=[{x:o,y:i+s},{x:o,y:i}];return"top"===a?d.reverse():d})(s,c,r,a,e,t):null!=d&&2===d.length?(i=d.map(t=>e.apply(t,{position:r})),"discard"===c&&i.some(t=>!e.isInRange(t))?null:i):null})((0,eR.createLabeledScales)({x:u,y:f}),m,e.position,d.orientation,c.orientation,e);if(!x)return null;var[{x:p,y:h},{x:j,y:v}]=x,b=eW(eW({clipPath:"hidden"===i?"url(#".concat(o,")"):void 0},(0,eP.svgPropertiesAndEvents)(e)),{},{x1:p,y1:h,x2:j,y2:v}),y=(0,eR.rectWithCoords)({x1:p,y1:h,x2:j,y2:v});return r.createElement(eM.ZIndexLayer,{zIndex:e.zIndex},r.createElement(eS.Layer,{className:(0,eN.clsx)("recharts-reference-line",l)},((e,t)=>{var a;if(r.isValidElement(e))a=r.cloneElement(e,t);else if("function"==typeof e)a=e(t);else{if(!(0,eV.isWellBehavedNumber)(t.x1)||!(0,eV.isWellBehavedNumber)(t.y1)||!(0,eV.isWellBehavedNumber)(t.x2)||!(0,eV.isWellBehavedNumber)(t.y2))return null;a=r.createElement("line",e$({},t,{className:"recharts-reference-line-line"}))}return a})(n,b),r.createElement(eT.CartesianLabelContextProvider,e$({},y,{lowerWidth:y.width,upperWidth:y.width}),r.createElement(eT.CartesianLabelFromLabelProp,{label:e.label}),e.children)))}var eU={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:eL.DefaultZIndexes.line};function eG(e){var t=(0,eF.resolveDefaultProps)(e,eU);return r.createElement(r.Fragment,null,r.createElement(e_,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),r.createElement(eK,t))}function ez(){let[e,o]=(0,r.useState)([]),[d,c]=(0,r.useState)(""),[u,f]=(0,r.useState)(String(new Date().getMonth()+1)),[m,x]=(0,r.useState)(String(new Date().getFullYear())),[p,h]=(0,r.useState)(null),[j,v]=(0,r.useState)(!1),[b,y]=(0,r.useState)("daily");(0,r.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=await ei.api.get("/colaboradores");o(e.data)}catch(e){console.error("Failed to fetch employees",e)}},C=async()=>{if(d){v(!0);try{let e=`${m}-${u.padStart(2,"0")}-15`,t=(await ei.api.post("/reports/generate",{employeeId:d,date:e})).data.id,r=await ei.api.get(`/reports/${t}`);h(r.data)}catch(e){console.error("Failed to fetch report",e),h(null)}finally{v(!1)}}},w=e=>{if(!e||"-"===e)return 0;let[t,r]=e.split(":").map(Number);return t+r/60},N=(0,r.useMemo)(()=>{if(!p)return[];let e={};return p.dailyDetails.forEach(t=>{var r;let a,n,l,i,s=(0,eo.parseISO)(t.date),o=(0,ed.getWeek)(s,{locale:em.ptBR});e[o]||(e[o]={weekNum:o,startDate:(0,ec.startOfWeek)(s,{locale:em.ptBR}),endDate:(r={locale:em.ptBR},a=(0,eu.getDefaultOptions)(),n=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,i=(l=(0,ef.toDate)(s,r?.in)).getDay(),l.setDate(l.getDate()+((i<n?-7:0)+6-(i-n))),l.setHours(23,59,59,999),l),worked:0,expected:0,overtime:0,balance:0});let d=w(t.total),c=8*(0!==s.getDay()&&6!==s.getDay());e[o].worked+=d,e[o].expected+=c,d>c&&(e[o].overtime+=d-c),e[o].balance+=d-c}),Object.values(e).sort((e,t)=>e.weekNum-t.weekNum)},[p]),S=(0,r.useMemo)(()=>p?p.dailyDetails.map(e=>({date:(0,es.format)((0,eo.parseISO)(e.date),"dd/MM"),worked:w(e.total),expected:8})):[],[p]);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Jornada & Horas"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Análise detalhada da jornada de trabalho, horas extras e banco de horas."})]})}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{children:"Filtros"})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Colaborador"}),(0,t.jsxs)(n.Select,{value:d,onValueChange:c,children:[(0,t.jsx)(n.SelectTrigger,{children:(0,t.jsx)(n.SelectValue,{placeholder:"Selecione..."})}),(0,t.jsx)(n.SelectContent,{children:e.map(e=>(0,t.jsx)(n.SelectItem,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Mês"}),(0,t.jsxs)(n.Select,{value:u,onValueChange:f,children:[(0,t.jsx)(n.SelectTrigger,{children:(0,t.jsx)(n.SelectValue,{})}),(0,t.jsx)(n.SelectContent,{children:Array.from({length:12},(e,t)=>t+1).map(e=>(0,t.jsx)(n.SelectItem,{value:String(e),children:(0,es.format)(new Date(2024,e-1,1),"MMMM",{locale:em.ptBR})},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Ano"}),(0,t.jsxs)(n.Select,{value:m,onValueChange:x,children:[(0,t.jsx)(n.SelectTrigger,{children:(0,t.jsx)(n.SelectValue,{})}),(0,t.jsxs)(n.SelectContent,{children:[(0,t.jsx)(n.SelectItem,{value:"2024",children:"2024"}),(0,t.jsx)(n.SelectItem,{value:"2025",children:"2025"}),(0,t.jsx)(n.SelectItem,{value:"2026",children:"2026"})]})]})]}),(0,t.jsx)(l.Button,{onClick:C,disabled:j||!d,children:j?"Carregando...":"Gerar Relatório"})]})})]}),p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{className:"pb-2",children:(0,t.jsx)(a.CardTitle,{className:"text-sm font-medium",children:"Horas Trabalhadas"})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[p.workedHours.toFixed(2),"h"]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["de ",p.expectedHours.toFixed(2),"h previstas"]}),(0,t.jsx)(eY,{value:p.workedHours/p.expectedHours*100,className:"mt-2"})]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{className:"pb-2",children:(0,t.jsx)(a.CardTitle,{className:"text-sm font-medium",children:"Horas Extras"})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[p.overtimeHours.toFixed(2),"h"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Acumuladas no período"})]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{className:"pb-2",children:(0,t.jsx)(a.CardTitle,{className:"text-sm font-medium",children:"Atrasos / Saídas"})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-yellow-600",children:[p.lateHours.toFixed(2),"h"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tolerância não incluída"})]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{className:"pb-2",children:(0,t.jsx)(a.CardTitle,{className:"text-sm font-medium",children:"Faltas"})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-red-600",children:[p.absenceHours.toFixed(2),"h"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Horas não trabalhadas"})]})]})]}),(0,t.jsxs)(z,{value:b,onValueChange:e=>y(e),className:"space-y-4",children:[(0,t.jsxs)(ea,{children:[(0,t.jsx)(en,{value:"daily",children:"Visão Diária"}),(0,t.jsx)(en,{value:"weekly",children:"Visão Semanal"}),(0,t.jsx)(en,{value:"charts",children:"Gráficos e Análises"})]}),(0,t.jsx)(el,{value:"daily",children:(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{children:"Detalhamento Diário"}),(0,t.jsx)(a.CardDescription,{children:"Entradas, saídas e totalização por dia."})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)(i.Table,{children:[(0,t.jsx)(i.TableHeader,{children:(0,t.jsxs)(i.TableRow,{children:[(0,t.jsx)(i.TableHead,{children:"Data"}),(0,t.jsx)(i.TableHead,{children:"Entrada"}),(0,t.jsx)(i.TableHead,{children:"Almoço (S)"}),(0,t.jsx)(i.TableHead,{children:"Almoço (V)"}),(0,t.jsx)(i.TableHead,{children:"Saída"}),(0,t.jsx)(i.TableHead,{children:"Total"}),(0,t.jsx)(i.TableHead,{children:"Status"})]})}),(0,t.jsx)(i.TableBody,{children:p.dailyDetails.map((e,r)=>(0,t.jsxs)(i.TableRow,{children:[(0,t.jsx)(i.TableCell,{className:"font-medium",children:(0,es.format)((0,eo.parseISO)(e.date),"dd/MM/yyyy (EEE)",{locale:em.ptBR})}),(0,t.jsx)(i.TableCell,{children:e.entry}),(0,t.jsx)(i.TableCell,{children:e.lunchOut}),(0,t.jsx)(i.TableCell,{children:e.lunchIn}),(0,t.jsx)(i.TableCell,{children:e.exit}),(0,t.jsx)(i.TableCell,{className:"font-bold",children:e.total}),(0,t.jsx)(i.TableCell,{children:(0,t.jsx)(s.Badge,{variant:"red"===e.statusColor?"destructive":"yellow"===e.statusColor?"secondary":"default",className:"green"===e.statusColor?"bg-green-600":"",children:e.status})})]},r))})]})})]})}),(0,t.jsx)(el,{value:"weekly",children:(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{children:"Consolidado Semanal"}),(0,t.jsx)(a.CardDescription,{children:"Acompanhamento de horas por semana (Limite 44h)."})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)(i.Table,{children:[(0,t.jsx)(i.TableHeader,{children:(0,t.jsxs)(i.TableRow,{children:[(0,t.jsx)(i.TableHead,{children:"Semana"}),(0,t.jsx)(i.TableHead,{children:"Período"}),(0,t.jsx)(i.TableHead,{children:"Trabalhado"}),(0,t.jsx)(i.TableHead,{children:"Previsto"}),(0,t.jsx)(i.TableHead,{children:"Saldo"}),(0,t.jsx)(i.TableHead,{children:"Status"})]})}),(0,t.jsx)(i.TableBody,{children:N.map((e,r)=>(0,t.jsxs)(i.TableRow,{children:[(0,t.jsxs)(i.TableCell,{children:["Semana ",e.weekNum]}),(0,t.jsxs)(i.TableCell,{children:[(0,es.format)(e.startDate,"dd/MM")," - ",(0,es.format)(e.endDate,"dd/MM")]}),(0,t.jsxs)(i.TableCell,{children:[e.worked.toFixed(2),"h"]}),(0,t.jsxs)(i.TableCell,{children:[e.expected.toFixed(2),"h"]}),(0,t.jsxs)(i.TableCell,{className:e.balance>=0?"text-green-600 font-bold":"text-red-600 font-bold",children:[e.balance>0?"+":"",e.balance.toFixed(2),"h"]}),(0,t.jsx)(i.TableCell,{children:e.worked>44?(0,t.jsx)(s.Badge,{variant:"destructive",children:"Estouro (>44h)"}):(0,t.jsx)(s.Badge,{variant:"outline",children:"Normal"})})]},r))})]})})]})}),(0,t.jsx)(el,{value:"charts",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{children:"Evolução Diária"}),(0,t.jsx)(a.CardDescription,{children:"Horas trabalhadas por dia no mês."})]}),(0,t.jsx)(a.CardContent,{className:"h-[300px]",children:(0,t.jsx)(eg.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(ex.BarChart,{data:S,children:[(0,t.jsx)(ev.CartesianGrid,{strokeDasharray:"3 3"}),(0,t.jsx)(eh.XAxis,{dataKey:"date"}),(0,t.jsx)(ej.YAxis,{}),(0,t.jsx)(eb.Tooltip,{}),(0,t.jsx)(ey.Legend,{}),(0,t.jsx)(ep.Bar,{dataKey:"worked",name:"Trabalhado",fill:"#16a34a"}),(0,t.jsx)(eG,{y:8,stroke:"red",strokeDasharray:"3 3",label:"Meta (8h)"})]})})})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{children:"Saldo Acumulado"}),(0,t.jsx)(a.CardDescription,{children:"Variação do banco de horas."})]}),(0,t.jsx)(a.CardContent,{className:"h-[300px]",children:(0,t.jsx)(eg.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(eC.LineChart,{data:S,children:[(0,t.jsx)(ev.CartesianGrid,{strokeDasharray:"3 3"}),(0,t.jsx)(eh.XAxis,{dataKey:"date"}),(0,t.jsx)(ej.YAxis,{}),(0,t.jsx)(eb.Tooltip,{}),(0,t.jsx)(ey.Legend,{}),(0,t.jsx)(ew.Line,{type:"monotone",dataKey:"worked",stroke:"#1e40af",strokeWidth:2})]})})})]})]})})]})]})]})}function eY({value:e,className:r}){return(0,t.jsx)("div",{className:`h-2 w-full bg-secondary rounded-full overflow-hidden ${r}`,children:(0,t.jsx)("div",{className:"h-full bg-primary transition-all",style:{width:`${Math.min(e,100)}%`}})})}eG.displayName="ReferenceLine",e.s(["default",()=>ez],13437)}]);